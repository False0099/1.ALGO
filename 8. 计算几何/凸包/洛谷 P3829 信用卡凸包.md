# [SHOI 2012] 信用卡凸包

## 题目背景

SHOI 2012 D 1 T 2

## 题目描述

信用卡是一个矩形，唯四个角作了圆滑处理，使它们都是与矩形的两边相切的 1/4 圆，如下图所示。现在平面上有一些规格相同的信用卡，试求其凸包的周长。注意凸包未必是多边形，因为它可能包含若干段圆弧。

 ![](https://cdn.luogu.com.cn/upload/pic/6549.png)

## 输入格式

输入的第一行是一个正整数 n，表示信用卡的张数。第二行包含三个实数 a, b, r，分别表示信用卡（圆滑处理前）竖直方向的长度、水平方向的长度，以及 1/4 圆的半径。

之后 n 行，每行包含三个实数 x, y, θ，分别表示一张信用卡中心（即对角线交点）的横、纵坐标，以及绕中心逆时针旋转的弧度。

## 输出格式

输出只有一行，包含一个实数，表示凸包的周长，四舍五入精确到小数点后 2 位。

## 样例 #1

### 样例输入 #1

```
2
6.0 2.0 0.0
0.0 0.0 0.0
2.0 -2.0 1.5707963268
```

### 样例输出 #1

```
21.66
```

## 样例 #2

### 样例输入 #2

```
3
6.0 6.0 1.0
4.0 4.0 0.0
0.0 8.0 0.0
0.0 0.0 0.0
```

### 样例输出 #2

```
41.60
```

## 样例 #3

### 样例输入 #3

```
3
6.0 6.0 1.0
4.0 4.0 0.1745329252
0.0 8.0 0.3490658504
0.0 0.0 0.5235987756
```

### 样例输出 #3

```
41.63
```

## 提示

样例 1 说明： ![](https://cdn.luogu.com.cn/upload/pic/6550.png)

本样例中的 2 张信用卡的轮廓在上图中用实线标出，如果视 1.5707963268 为 pi/2，那么凸包的周长为 16+4 sqrt (2)

样例 2 说明： ![](https://cdn.luogu.com.cn/upload/pic/6551.png)

样例 3 说明： ![](https://cdn.luogu.com.cn/upload/pic/6552.png)

其凸包的周长约为 41.628267652。


本题可能需要使用数学库中的三角函数。不熟悉使用方法的选手，可以参考下面的程序及其输出结果：

```cpp
uses math;
const Pi = 3.141592653589793;
begin
writeln(sin(30.0 / 180.0 * Pi) : 0 : 10);
writeln(cos(60.0 / 180.0 * Pi) : 0 : 10);
writeln(tan(45.0 / 180.0 * Pi) : 0 : 10);
writeln(arcsin(1.0) : 0 : 10);
writeln(arccos(0.0) : 0 : 10);
writeln(arctan(1.0) : 0 : 10);
end.
```
```cpp
#include <iostream>
#include <math.h>
using namespace std;
const double Pi = 3.141592653589793;
int main()
{
cout.setf(ios::fixed);
cout.precision(10);
cout<<sin(30.0 / 180.0 * Pi)<<endl;
cout<<cos(60.0 / 180.0 * Pi)<<endl;
cout<<tan(45.0 / 180.0 * Pi)<<endl;
cout<<asin(1.0)<<endl;
cout<<acos(0.0)<<endl;
cout<<atan(1.0)<<endl;
return 0;
}
```
输出结果：0.5000000000

0.5000000000

1.0000000000

1.5707963268

1.5707963268

0.7853981634


数据范围：

 ![](https://cdn.luogu.com.cn/upload/pic/6553.png) 

![](https://cdn.luogu.com.cn/upload/pic/6554.png)


## 题解
我们这一题还是要求我们的凸包，我们考虑我们能不能用我们的没有圆弧的凸包去解决，我们发现是可以的，我们对于每一个圆弧，我们取他的圆心，以我们的圆心来构造我们的凸包，我们能发现，**我们构造出来后我们的实际长度，恰好就是我们以圆心构造的凸包再多出一个圆，于是我们就转换为了求我们的凸包。**
