# [省选联考 2023] 火车站

## 题目描述

有 $n$ 个火车站排成一条直线，从 $1$ 到 $n$ 编号。一共有 $m$ 条火车轨道，每条轨道覆盖一段火车站区间 $[l_i, r_i]$。

对于一个被多条火车轨道覆盖的火车站，火车在经过这里的时候，可以在此处改变轨道。但是火车无法掉头，只能朝着一个方向运行（即只能一直往 $1$ 的方向开或者一直往 $n$ 的方向开）。

小 A 从火车站 $x$ 出发，即搭上了经过 $x$ 的任意一列火车（这列火车也可能是从车站 $x$ 出发）。这列火车可能行驶在火车站 $x$ 所处的任一条轨道上，其运行方向既可能是往 $1$ 的方向开，也可能是往 $n$ 的方向开。小 A 上车后就开始昏睡，直到乘坐的火车到达某条线路的终点站停下，他才醒过来。问小 A 最后可能到达的车站。

注意：火车应运行至少一个车站，且火车切换轨道后不会立刻停下来，而是会继续沿着当前轨道前进。

## 输入格式

输入的第一行包含三个正整数 $n, m, x$，分别表示火车站的数量，火车轨道的数量以及小 A 初始的起点。

接下来 $m$ 行，每行包含两个正整数 $l_i, r_i$，表示一条火车轨道运行的区间。

## 输出格式

输出一行，包含若干个用单个空格分隔的正整数，表示小 A 最后可能到达的车站，按照车站编号升序排序输出。

## 样例 #1

### 样例输入 #1

```
7 5 4
3 4
4 6
1 3
5 7
4 6
```

### 样例输出 #1

```
1 3 6 7
```

## 提示

**【样例 1 解释】**

火车从车站 $4$ 出发，沿着第一条轨道可以运行到终点 $3$，也可以接着沿第三条轨道运行到终点 $1$。

火车从车站 $4$ 出发，沿着第二条轨道可以运行到终点 $6$，也可以在车站 $5$ 换到第四条轨道运行到终点 $7$。

所以最终按顺序输出 $1, 3, 6, 7$。

**【数据范围】**

对于所有的数据，保证 $1 \le n, m \le 2 \times 10^5$，$1 \le x \le n$，$1 \le l_i < r_i \le n$。

| 测试点 |   $n, m \le$    | 特殊性质 |
| :-: | :-------------: | :--: |
|  1  |      $50$       |  无   |
|  2  |      $50$       |  无   |
|  3  |     $5000$      |  无   |
|  4  |     $5000$      |  无   |
|  5  |     $5000$      |  无   |
|  6  | $2 \times 10^5$ |  A   |
|  7  | $2 \times 10^5$ |  A   |
|  8  | $2 \times 10^5$ |  无   |
|  9  | $2 \times 10^5$ |  无   |
| 10  | $2 \times 10^5$ |  无   |

特殊性质 A：保证 $x = 1$。

## 题解
我们本题类似于我们的 [[【求线段并最远点】 CF1859D]]，都是允许我们线段之间产生并级，然后要我们求我们的并集上的一些信息，我们于是可以通过一个 map 来维护我们从某一个端点向右出发，能够到达的所有右端点都有哪些。同理，我们还需要一个 map 来维护我们从某一个点向左出发，能够到达的所有左端点都有哪些。
之后我们输出答案是，注意我们的点一定是在我们的这个点往右的，所以我们在输出答案是要把不合法的状态给删除。