**最大子矩阵**

# 玉蟾宫

## 题目背景

有一天，小猫 rainbow 和 freda 来到了湘西张家界的天门山玉蟾宫，玉蟾宫宫主蓝兔盛情地款待了它们，并赐予它们一片土地。

## 题目描述

这片土地被分成 $N\times M$ 个格子，每个格子里写着 'R' 或者 'F'，R 代表这块土地被赐予了 rainbow，F 代表这块土地被赐予了 freda。

现在 freda 要在这里卖萌。。。它要找一块矩形土地，要求这片土地都标着 'F' 并且面积最大。

但是 rainbow 和 freda 的 OI 水平都弱爆了，找不出这块土地，而蓝兔也想看 freda 卖萌（她显然是不会编程的……），所以它们决定，如果你找到的土地面积为 $S$，它们每人给你 $S$ 两银子。

## 输入格式

第一行两个整数 $N$，$M$，表示矩形土地有 $N$ 行 $M$ 列。

接下来 $N$ 行，每行 $M$ 个用空格隔开的字符 'F' 或 'R'，描述了矩形土地。

## 输出格式

输出一个整数，表示你能得到多少银子，即 ($3\times \text{最大 'F' 矩形土地面积}$) 的值。

## 样例 #1

### 样例输入 #1

```
5 6 
R F F F F F 
F F F F F F 
R R R F F F 
F F F F F F 
F F F F F F
```

### 样例输出 #1

```
45
```

## 提示

对于 $50\%$ 的数据，$1 \leq N, M \leq 200$。  
对于 $100\%$ 的数据，$1 \leq N, M \leq 1000$。

## 题解
本题要求我们求一个最大子矩阵，要求我们的矩阵中的元素都是我们的 $F$，于是我们就可以通过我们的悬线法来计算出我们从某个点向左能够延申最多多远，向右走可以走多远。然后我们再去统计我们每一个点向下可以走多远。

我们设 $left[i][j]$ 表示我们以 $(i,j)$ 为起点，向左能够走到的最靠左的地方在哪里，然后我们设 $right[i][j]$ 表示我们以 $(i,j)$ 为起点，向右能够到达的最右的地方在哪里。

我们首先单独的处理我们的 $left[i][j]$，和我们的 $right[i][j]$ 我们就有：
```
for(int i=1;i<=n;i++)
	for(int j=1;j<=m;j++)
		if(a[i][j]&&a[i][j-1])lft[i][j]=lft[i][j-1];
```

```
for(int i=1;i<=n;i++)
		for(int j=m;j>=1;j--)
			if(a[i][j]&&a[i][j+1])rgt[i][j]=rgt[i][j+1];
```

然后，我们再去考虑我们后续的 $up$，表示我们向上能的最远的路程是多少。这里，我们的 `up` 更新后，我们的对应在这个位置的 $l,r$ 也要对应的更新。

