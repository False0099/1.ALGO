# 红包发红包

## 题目背景

红包（redbag）发明了一个抢红包的系统。

## 题目描述

这个抢红包系统是这样的：假如现在有 $w$ 元，那么你抢红包能抢到的钱就是 $[0,w]$ 等概率均匀随机出的一个实数 $x$。

现在红包发了一个 $w$ 元的红包，有 $n$ 个人来抢。那么请问第 $k$ 个人期望抢到多少钱？

输出答案对 $10^9+7$ 取模后的结果。

## 输入格式

一行三个整数，$w,n,k$。

## 输出格式

第 $k$ 个人期望抢到的钱数对 $10^9+7$ 取模后的结果。

补充：期望可能是分数，关于分数取模，可以问度娘。

## 样例 #1

### 样例输入 #1

```
2 1 1
```

### 样例输出 #1

```
1
```

## 提示

注意红包发明的抢红包系统和微信的抢红包系统不一样，红包发明的抢红包系统中的钱不一定是整数分。

- 对于 $30\%$ 的数据，$k=1$
- 另有 $30\%$ 的数据，期望值取模前为整数，$k\le 10$。

对于全部数据，$0\lt w\lt (10^9+7)$，$n\le 10^{18},k\le n$。

## 题解
实际上这道题是连续性随机变量的期望。

连续性随机变量的期望为$∫​xf(x)dx$，其中f(x)为x取值的密度分布函数，

那么总金额w对应的分布函数就是：

f(x)={1/w​0≤x≤w
        0 x<0 or x>w}​

实际上n是没用的，因为n个人来抢并不是n个人会抢完。

其实看了样例猜到期望抢到一半，每次就都是/2就可以A掉这题了（逃）

然而严谨的证明第 k 个人期望抢到 w/2^k​：
（x 指的是第一个人抢到的钱数）


```cpp
#include<bits/stdc++.h>
using namespace std;

typedef long long LL;
const int ha=1e9+7;
LL w,n,k;

LL Pow(LL a,LL b)
{
    LL ans=1;
    for(;b;b>>=1,a=a*a%ha)
        if(b&1) ans=ans*a%ha;
    return ans;
}

int main()
{
    cin>>w>>n>>k;
    LL inv2=Pow(2,ha-2);
    LL ans=w*Pow(inv2,k)%ha;
    cout<<ans<<endl;
    return 0;
}
```