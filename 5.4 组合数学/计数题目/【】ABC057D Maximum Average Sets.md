# [ABC 057 D] Maximum Average Sets

## 题面翻译

### 题目描述
你有 $n$ 个物品，第 $i$ 个物品的价值为 $v_i$。
你需要从这些物品中选择 $A$ 个以上，$B$ 个以下的物品，计算出所选物品平均值的最大值，并求出能使选择物品的平均值最大的选择方法有几种。

### 输入格式
输入共两行。  
第一行三个整数 $n,A,B$。  
第二行 $n$ 个整数 $v_1\sim v_n$。  
由标准输入给出。

### 输出格式
输出共两行。  
第一行一个实数，代表所选物品平均价值的最大值。如果选手答案与标准答案的绝对误差或相对误差在 $10^{-6}$ 以下，则视为正确答案。  
第二行一个整数，代表所选物品平均价值达到最大选择方法的数量。

### 说明/提示
#### 数据规模与约定
对于 $100\%$ 的测试点数据，保证：
- $1\le a\le b\le n\le50$
- $1\le v_i\le10^{15}$
- $v_i$ 全部为整数。

#### 样例 $1$ 解释
选择第 $4$ 个物品和第 $5$ 个物品，价值的平均值是最大的，所以第一行输出 $4.5$。另外，由于除此之外的物品的选择方法中没有价值平均值为 $4.5$ 的东西，所以第二行输出 $1$。

#### 样例 $2$ 解释
物品价值平均值最大的物品的选择方法可能有多个。

---
翻译：@ [Wuzetong](https://www.luogu.com.cn/user/1219873)

## 题目描述

[problemUrl]: https://atcoder.jp/contests/abc057/tasks/abc057_d

$ N $ 個の品物が与えられます。  
 $ i $ 番目の品物の価値は $ v_i\ (1≦i≦N) $ です。  
 これらの品物から、$ A $ 個以上、$ B $ 個以下を選ばなければなりません。  
 この制約下において、選んだ品物の価値の平均の最大値を求めてください。  
 また、選んだ品物の平均が最大となるような品物の選び方が何通りあるかを求めてください。

## 输入格式

入力は以下の形式で標準入力から与えられる。

> $ N $ $ A $ $ B $ $ v_1 $ $ v_2 $ $ ... $ $ v_N $

## 输出格式

解答を $ 2 $ 行に出力せよ。  
 $ 1 $ 行目には、選んだ品物の価値の平均の最大値を出力せよ。絶対誤差または相対誤差が $ 10^{−6} $ 以下ならば正解となる。  
 $ 2 $ 行目には、選んだ品物の平均が最大となるような品物の選び方の数を出力せよ。

## 样例 #1

### 样例输入 #1

```
5 2 2
1 2 3 4 5
```

### 样例输出 #1

```
4.500000
1
```

## 样例 #2

### 样例输入 #2

```
4 2 3
10 20 10 10
```

### 样例输出 #2

```
15.000000
3
```

## 样例 #3

### 样例输入 #3

```
5 1 5
1000000000000000 999999999999999 999999999999998 999999999999997 999999999999996
```

### 样例输出 #3

```
1000000000000000.000000
1
```

## 样例 #4

### 样例输入 #4

```
50 1 50
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
```

### 样例输出 #4

```
1.000000
1125899906842623
```

## 提示

### 制約

- $ 1≦N≦50 $
- $ 1≦A≦B≦N $
- $ 1≦v_i≦10^{15} $
- $ v_i $ は全て整数である。

### Sample Explanation 1

$ 4 $ 番目の品物と $ 5 $ 番目の品物を選ぶと価値の平均が最大となるため、出力の $ 1 $ 行目は $ 4.5 $ です。 また、それ以外の品物の選び方で価値の平均が $ 4.5 $ になるものはないため、出力の $ 2 $ 行目は $ 1 $ です。

### Sample Explanation 2

価値の平均が最大となる品物の選び方は複数存在することがあります。

## 题解
本题第一问，在**没有任何限制的情况下，我们的平均数最大值一定是取前 K 大**，然后对于我们的**第二问**，我们如果希望添加一个数，然后让我们的平均数保持不变，**有且仅有一种可能是我们的这个数就是平均数**，但因为我们的数字已经一定是前 K 大了。所以这一种情况有且仅有我们的前 K 个数都是一样。

另一种是保持我们的个数 K 不变，然后从我们的后面的元素中选取一些其他元素来进行处理。

```cpp
#include <bits/stdc++.h>
#define int long long
#define endl '\n'
int INF=0x3f3f3f3f3f3f3f3f;
using namespace std;
typedef pair<int,int> PII;
const int N=101;
int f[N][N];
//int C[N];
//int fac[N];
//int invfac[N];
void init(){
}
int cnm(int a,int b) {
	int res=1;
	for(int i=1,j=b;i<=a;++i,--j) res=res*j/i;
	return res;
} //组合数
void solve(){
    int n,a,b;
    cin>>n>>a>>b;
    vector<int> arr(n+1);
    map<int,int> mp;
    for(int i=1;i<=n;i++){
        cin>>arr[i];
        mp[arr[i]]++;
    }
    sort(begin(arr)+1,end(arr));
    reverse(begin(arr)+1,end(arr));
    int sum=0;
    for(int i=1;i<=a;i++){
        sum+=arr[i];
    }
    //如果我们全是一个数，那么我们和这个相同的随便选即可
    if(arr[1]==arr[a]){
        int res=0;
        for(int i=a;i<=min(b,mp[arr[a]]);i++){
            res+=cnm(i,mp[arr[a]]);
        }
        cout<<fixed<<setprecision(6)<<1.0*sum/a<<endl;
        cout<<res<<endl;
    }else{
        int res=0;
        int cnt=0;
        for(int i=1;i<=a;i++){
            if(arr[i]==arr[a]){
                cnt++;
            }
        }
        //cerr<<cnt<<endl;
        res+=cnm(cnt,mp[arr[a]]);
        cout<<fixed<<setprecision(6)<<1.0*sum/a<<endl;
        cout<<res<<endl;
    }
}
signed main(){
    ios::sync_with_stdio(false),cin.tie(0);
    int t;
    t=1;
 //   cin>>t;
    init();
    while(t--){
        solve();
    }
}
```